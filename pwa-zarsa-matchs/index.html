<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zarsa Football Club</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
</head>
<body>
   
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                <div class="logo-icon">
                    <i class="fas fa-futbol"></i>
                </div>
                <div class="logo-text">
                    <div class="logo-main">ZARSA FC</div>
                    <div class="logo-sub">Football Club</div>
                </div>
            </div>
            <nav>
                <button class="menu-toggle" onclick="toggleMenu()">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#accueil"><i class="fas fa-home"></i> Accueil</a></li>
                    <li><a href="#equipes"><i class="fas fa-users"></i> Équipes</a></li>
                    <li><a href="#matchs"><i class="fas fa-calendar"></i> Matchs</a></li>
                    <li><a href="#statistiques"><i class="fas fa-chart-line"></i> Stats</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <div class="theme-selector">
                    <button class="theme-toggle" onclick="toggleThemeDropdown()">
                        <i class="fas fa-palette"></i>
                        <span class="hide-mobile">Thème</span>
                    </button>
                    <div class="theme-dropdown" id="themeDropdown">
                        <div class="theme-option" onclick="changeTheme('dark')">
                            <i class="fas fa-moon"></i> Sombre
                        </div>
                        <div class="theme-option" onclick="changeTheme('light')">
                            <i class="fas fa-sun"></i> Clair
                        </div>
                        <div class="theme-option" onclick="changeTheme('forest')">
                            <i class="fas fa-tree"></i> Forêt
                        </div>
                        <div class="theme-option" onclick="changeTheme('sunset')">
                            <i class="fas fa-mountain-sun"></i> Coucher
                        </div>
                        <div class="theme-option" onclick="changeTheme('ocean')">
                            <i class="fas fa-water"></i> Océan
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        
        <!-- Stats Grid (Clickable) - ZARSA A -->
        <div class="team-section zarsa-a" style="margin-bottom: 1rem; padding: 1rem;">
            <h3 style="margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                <span class="team-badge zarsa-a"><i class="fas fa-shield-alt"></i> Zarsa A</span>
                Statistiques Générales
            </h3>
            <div class="stats-grid fade-in">
                <div class="stat-card" onclick="scrollToSection('matchs')" title="Voir les matchs de Zarsa A">
                    <h3><i class="fas fa-futbol"></i> Matchs Joués</h3>
                    <div class="stat-value">8</div>
                    <div class="stat-label">Zarsa A - Saison 2024/25</div>
                    <i class="fas fa-calendar-check stat-icon"></i>
                </div>
                <div class="stat-card" onclick="scrollToSection('matchs')" title="Voir les victoires de Zarsa A">
                    <h3><i class="fas fa-trophy"></i> Victoires</h3>
                    <div class="stat-value">5</div>
                    <div class="stat-label">62.5% de réussite</div>
                    <i class="fas fa-medal stat-icon"></i>
                </div>
                <div class="stat-card" onclick="scrollToSection('equipes')" title="Voir les buteurs de Zarsa A">
                    <h3><i class="fas fa-fire"></i> Buts Marqués</h3>
                    <div class="stat-value">18</div>
                    <div class="stat-label">2.25 par match</div>
                    <i class="fas fa-bullseye stat-icon"></i>
                </div>
                <div class="stat-card" onclick="scrollToSection('equipes')" title="Voir le classement">
                    <h3><i class="fas fa-medal"></i> Classement</h3>
                    <div class="stat-value">3<sup>e</sup></div>
                    <div class="stat-label">Championnat A</div>
                    <i class="fas fa-ranking-star stat-icon"></i>
                </div>
            </div>
        </div>

        <!-- Stats Grid (Clickable) - ZARSA B -->
        <div class="team-section zarsa-b" style="margin-bottom: 2rem; padding: 1rem;">
            <h3 style="margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                <span class="team-badge zarsa-b"><i class="fas fa-shield-alt"></i> Zarsa B</span>
                Statistiques Générales
            </h3>
            <div class="stats-grid fade-in">
                <div class="stat-card" onclick="scrollToSection('matchs')" title="Voir les matchs de Zarsa B">
                    <h3><i class="fas fa-futbol"></i> Matchs Joués</h3>
                    <div class="stat-value">7</div>
                    <div class="stat-label">Zarsa B - Saison 2024/25</div>
                    <i class="fas fa-calendar-check stat-icon"></i>
                </div>
                <div class="stat-card" onclick="scrollToSection('matchs')" title="Voir les victoires de Zarsa B">
                    <h3><i class="fas fa-trophy"></i> Victoires</h3>
                    <div class="stat-value">4</div>
                    <div class="stat-label">57% de réussite</div>
                    <i class="fas fa-medal stat-icon"></i>
                </div>
                <div class="stat-card" onclick="scrollToSection('equipes')" title="Voir les buteurs de Zarsa B">
                    <h3><i class="fas fa-fire"></i> Buts Marqués</h3>
                    <div class="stat-value">16</div>
                    <div class="stat-label">2.3 par match</div>
                    <i class="fas fa-bullseye stat-icon"></i>
                </div>
                <div class="stat-card" onclick="scrollToSection('equipes')" title="Voir le classement">
                    <h3><i class="fas fa-medal"></i> Classement</h3>
                    <div class="stat-value">1<sup>er</sup></div>
                    <div class="stat-label">Championnat Vétérans</div>
                    <i class="fas fa-ranking-star stat-icon"></i>
                </div>
            </div>
        </div>

        <!-- Zarsa A Section -->
        <div class="team-section zarsa-a" id="equipes">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="team-badge zarsa-a"><i class="fas fa-shield-alt"></i> Zarsa A</span>
                    Seniors
                </h2>
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('classement-a', this)">Classement</button>
                    <button class="tab-btn" onclick="switchTab('buteurs-a', this)">Buteurs</button>
                    <button class="tab-btn" onclick="switchTab('stats-a', this)">Statistiques</button>
                </div>
            </div>

            <div id="classement-a" class="tab-content">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Équipe</th>
                                <th>J</th>
                                <th>V</th>
                                <th>N</th>
                                <th>D</th>
                                <th>BP</th>
                                <th>BC</th>
                                <th>Diff</th>
                                <th>Pts</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td class="team-name"><i class="fas fa-shield-alt" style="color: gold;"></i> FC Riviera</td>
                                <td>6</td>
                                <td>4</td>
                                <td>1</td>
                                <td>1</td>
                                <td>12</td>
                                <td>5</td>
                                <td>+7</td>
                                <td><strong>13</strong></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td class="team-name"><i class="fas fa-shield-alt" style="color: silver;"></i> AS Port</td>
                                <td>6</td>
                                <td>3</td>
                                <td>2</td>
                                <td>1</td>
                                <td>9</td>
                                <td>7</td>
                                <td>+2</td>
                                <td><strong>11</strong></td>
                            </tr>
                            <tr class="highlight-row">
                                <td>3</td>
                                <td class="team-name"><i class="fas fa-shield-alt" style="color: var(--zarsa-a-color);"></i> Zarsa A</td>
                                <td>2</td>
                                <td>1</td>
                                <td>1</td>
                                <td>0</td>
                                <td>4</td>
                                <td>2</td>
                                <td>+2</td>
                                <td><strong>4</strong></td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td class="team-name"><i class="fas fa-shield-alt"></i> Olympique V</td>
                                <td>6</td>
                                <td>1</td>
                                <td>1</td>
                                <td>4</td>
                                <td>6</td>
                                <td>15</td>
                                <td>-9</td>
                                <td><strong>4</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="buteurs-a" class="tab-content" style="display: none;">
                <div class="player-stats-card">
                    <div class="player-stats-header">
                        <h3><i class="fas fa-user"></i> M. Dubois</h3>
                        <span class="team-badge zarsa-a">Attaquant #9</span>
                    </div>
                    <div class="player-stats-grid">
                        <div class="player-stat-item">
                            <div class="player-stat-value">5</div>
                            <div class="player-stat-label">Buts</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">2</div>
                            <div class="player-stat-label">Passes D.</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">90%</div>
                            <div class="player-stat-label">Présence</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">8.5</div>
                            <div class="player-stat-label">Moyenne</div>
                        </div>
                    </div>
                </div>

                <div class="player-stats-card">
                    <div class="player-stats-header">
                        <h3><i class="fas fa-user"></i> F. Kante</h3>
                        <span class="team-badge zarsa-a">Milieu #7</span>
                    </div>
                    <div class="player-stats-grid">
                        <div class="player-stat-item">
                            <div class="player-stat-value">3</div>
                            <div class="player-stat-label">Buts</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">4</div>
                            <div class="player-stat-label">Passes D.</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">100%</div>
                            <div class="player-stat-label">Présence</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">8.2</div>
                            <div class="player-stat-label">Moyenne</div>
                        </div>
                    </div>
                </div>

                <div class="player-stats-card">
                    <div class="player-stats-header">
                        <h3><i class="fas fa-user"></i> L. Petit</h3>
                        <span class="team-badge zarsa-a">Ailier #11</span>
                    </div>
                    <div class="player-stats-grid">
                        <div class="player-stat-item">
                            <div class="player-stat-value">2</div>
                            <div class="player-stat-label">Buts</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">3</div>
                            <div class="player-stat-label">Passes D.</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">85%</div>
                            <div class="player-stat-label">Présence</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">7.8</div>
                            <div class="player-stat-label">Moyenne</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="stats-a" class="tab-content" style="display: none;">
                <div class="player-stats-card">
                    <h3 style="margin-bottom: 1rem;"><i class="fas fa-chart-bar"></i> Statistiques d'équipe</h3>
                    <div class="player-stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));">
                        <div class="player-stat-item">
                            <div class="player-stat-value">2.0</div>
                            <div class="player-stat-label">Buts/Match</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">1.0</div>
                            <div class="player-stat-label">B. Encaissés</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">65%</div>
                            <div class="player-stat-label">Possession</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">85%</div>
                            <div class="player-stat-label">Passes réussies</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">12</div>
                            <div class="player-stat-label">Tirs cadrés/M</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">3</div>
                            <div class="player-stat-label">Cartons jaunes</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Zarsa B Section -->
        <div class="team-section zarsa-b">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="team-badge zarsa-b"><i class="fas fa-shield-alt"></i> Zarsa B</span>
                    Vétérans
                </h2>
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('classement-b', this)">Classement</button>
                    <button class="tab-btn" onclick="switchTab('buteurs-b', this)">Buteurs</button>
                    <button class="tab-btn" onclick="switchTab('stats-b', this)">Statistiques</button>
                </div>
            </div>

            <div id="classement-b" class="tab-content">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Équipe</th>
                                <th>J</th>
                                <th>V</th>
                                <th>N</th>
                                <th>D</th>
                                <th>BP</th>
                                <th>BC</th>
                                <th>Diff</th>
                                <th>Pts</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="highlight-row">
                                <td>1</td>
                                <td class="team-name"><i class="fas fa-shield-alt" style="color: gold;"></i> Zarsa B</td>
                                <td>5</td>
                                <td>4</td>
                                <td>0</td>
                                <td>1</td>
                                <td>14</td>
                                <td>6</td>
                                <td>+8</td>
                                <td><strong>12</strong></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td class="team-name"><i class="fas fa-shield-alt" style="color: silver;"></i> Vétérans Club</td>
                                <td>5</td>
                                <td>3</td>
                                <td>1</td>
                                <td>1</td>
                                <td>10</td>
                                <td>5</td>
                                <td>+5</td>
                                <td><strong>10</strong></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td class="team-name"><i class="fas fa-shield-alt" style="color: #cd7f32;"></i> FC Anciens</td>
                                <td>5</td>
                                <td>2</td>
                                <td>2</td>
                                <td>1</td>
                                <td>8</td>
                                <td>7</td>
                                <td>+1</td>
                                <td><strong>8</strong></td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td class="team-name"><i class="fas fa-shield-alt"></i> US Seniors</td>
                                <td>5</td>
                                <td>1</td>
                                <td>1</td>
                                <td>3</td>
                                <td>5</td>
                                <td>10</td>
                                <td>-5</td>
                                <td><strong>4</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="buteurs-b" class="tab-content" style="display: none;">
                <div class="player-stats-card">
                    <div class="player-stats-header">
                        <h3><i class="fas fa-user"></i> J. Bernard</h3>
                        <span class="team-badge zarsa-b">Attaquant #10</span>
                    </div>
                    <div class="player-stats-grid">
                        <div class="player-stat-item">
                            <div class="player-stat-value">6</div>
                            <div class="player-stat-label">Buts</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">3</div>
                            <div class="player-stat-label">Passes D.</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">95%</div>
                            <div class="player-stat-label">Présence</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">9.0</div>
                            <div class="player-stat-label">Moyenne</div>
                        </div>
                    </div>
                </div>

                <div class="player-stats-card">
                    <div class="player-stats-header">
                        <h3><i class="fas fa-user"></i> P. Rousseau</h3>
                        <span class="team-badge zarsa-b">Milieu #8</span>
                    </div>
                    <div class="player-stats-grid">
                        <div class="player-stat-item">
                            <div class="player-stat-value">4</div>
                            <div class="player-stat-label">Buts</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">5</div>
                            <div class="player-stat-label">Passes D.</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">100%</div>
                            <div class="player-stat-label">Présence</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">8.7</div>
                            <div class="player-stat-label">Moyenne</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="stats-b" class="tab-content" style="display: none;">
                <div class="player-stats-card">
                    <h3 style="margin-bottom: 1rem;"><i class="fas fa-chart-bar"></i> Statistiques d'équipe</h3>
                    <div class="player-stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));">
                        <div class="player-stat-item">
                            <div class="player-stat-value">2.8</div>
                            <div class="player-stat-label">Buts/Match</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">1.2</div>
                            <div class="player-stat-label">B. Encaissés</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">60%</div>
                            <div class="player-stat-label">Possession</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">82%</div>
                            <div class="player-stat-label">Passes réussies</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">15</div>
                            <div class="player-stat-label">Tirs cadrés/M</div>
                        </div>
                        <div class="player-stat-item">
                            <div class="player-stat-value">2</div>
                            <div class="player-stat-label">Cartons jaunes</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Matches Section -->
        <div class="team-section" id="matchs" style="border-left: 4px solid var(--accent);">
            <div class="section-header">
                <h2 class="section-title">Matchs</h2>
            </div>

            <div class="matches-grid">
                <div class="match-card" onclick="showNotification('Détails du match bientôt disponibles', 'info')">
                    <div class="match-header">
                        <div class="match-date">
                            <i class="far fa-calendar"></i> 24 nov. 2024 à 14:00
                        </div>
                        <span class="match-status upcoming">À venir</span>
                    </div>
                    <div class="match-teams">
                        <div class="team">
                            <div class="team-logo">🛡️</div>
                            <h3>Zarsa A</h3>
                            <div style="color: var(--text-secondary); font-size: 0.85rem;">Coupe</div>
                        </div>
                        <div class="vs">VS</div>
                        <div class="team">
                            <div class="team-logo">⚔️</div>
                            <h3>US Blagnac</h3>
                            <div style="color: var(--text-secondary); font-size: 0.85rem;">Extérieur</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; color: var(--text-secondary); font-size: 0.85rem;">
                        <i class="fas fa-info-circle"></i> Cliquez pour plus de détails
                    </div>
                </div>

                <div class="match-card" onclick="showNotification('Détails du match bientôt disponibles', 'info')">
                    <div class="match-header">
                        <div class="match-date">
                            <i class="far fa-calendar"></i> 27 oct. 2024
                        </div>
                        <span class="match-status victory">Victoire</span>
                    </div>
                    <div class="match-teams">
                        <div class="team">
                            <div class="team-logo">🛡️</div>
                            <h3>Zarsa B</h3>
                            <div class="score">2</div>
                        </div>
                        <div class="vs">-</div>
                        <div class="team">
                            <div class="team-logo">⚔️</div>
                            <h3>Vétérans Club</h3>
                            <div class="score">0</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; color: var(--text-secondary); font-size: 0.85rem;">
                        <i class="fas fa-info-circle"></i> Cliquez pour plus de détails
                    </div>
                </div>

                <div class="match-card" onclick="showNotification('Détails du match bientôt disponibles', 'info')">
                    <div class="match-header">
                        <div class="match-date">
                            <i class="far fa-calendar"></i> 10 nov. 2024 à 15:30
                        </div>
                        <span class="match-status upcoming">À venir</span>
                    </div>
                    <div class="match-teams">
                        <div class="team">
                            <div class="team-logo">⚔️</div>
                            <h3>AS Port</h3>
                            <div style="color: var(--text-secondary); font-size: 0.85rem;">Extérieur</div>
                        </div>
                        <div class="vs">VS</div>
                        <div class="team">
                            <div class="team-logo">🛡️</div>
                            <h3>Zarsa A</h3>
                            <div style="color: var(--text-secondary); font-size: 0.85rem;">Championnat</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; color: var(--text-secondary); font-size: 0.85rem;">
                        <i class="fas fa-info-circle"></i> Cliquez pour plus de détails
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics Section with Charts -->
        <div class="team-section" id="statistiques" style="border-left: 4px solid var(--success);">
            <div class="section-header">
                <h2 class="section-title">Statistiques Avancées</h2>
            </div>

            <div class="chart-container">
                <h3 style="margin-bottom: 1rem; color: var(--accent); display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-chart-line"></i> Performance de la Saison
                </h3>
                <canvas id="performanceChart" height="80"></canvas>
            </div>

            <div class="chart-container">
                <h3 style="margin-bottom: 1rem; color: var(--accent); display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-chart-bar"></i> Comparaison Zarsa A vs Zarsa B
                </h3>
                <canvas id="comparisonChart" height="80"></canvas>
            </div>

            <div class="chart-container">
                <h3 style="margin-bottom: 1rem; color: var(--accent); display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-futbol"></i> Évolution des Buteurs
                </h3>
                <canvas id="scorersChart" height="80"></canvas>
            </div>
        </div>

        <!-- Calendar (Smaller) -->
        <div class="team-section" id="calendrier" style="border-left: 4px solid var(--warning);">
            <div class="section-header">
                <h2 class="section-title">Calendrier</h2>
            </div>
            <div class="calendar-container">
                <div class="calendar-header">
                    <h3 id="calendarMonth">Novembre 2024</h3>
                    <div class="calendar-nav">
                        <button onclick="previousMonth()"><i class="fas fa-chevron-left"></i></button>
                        <button onclick="nextMonth()"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
                <div class="calendar-grid" id="calendarGrid"></div>
            </div>
        </div>
    </div>

    <!-- Admin Toggle Button -->
 <button class="admin-toggle" onclick="handleAdminToggle()">
        <i class="fas fa-cog"></i>
    </button> 

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2><i class="fas fa-user-shield"></i> Panneau Admin</h2>
            <button class="close-admin" onclick="toggleAdmin()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="admin-content">
            <!-- Add Match Section -->
            <div class="admin-section">
                <h3><i class="fas fa-plus-circle"></i> Ajouter un Match</h3>
                <form id="addMatchForm">
                    <div class="form-group">
                        <label>Équipe</label>
                        <select name="team">
                            <option value="zarsa-a">Zarsa A</option>
                            <option value="zarsa-b">Zarsa B</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Adversaire</label>
                        <input type="text" name="opponent" placeholder="Nom de l'équipe adverse" required>
                    </div>
                    <div class="form-group">
                        <label>Date et Heure</label>
                        <input type="datetime-local" name="datetime" required>
                    </div>
                    <div class="form-group">
                        <label>Lieu</label>
                        <select name="location">
                            <option value="domicile">Domicile</option>
                            <option value="exterieur">Extérieur</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Compétition</label>
                        <select name="competition">
                            <option value="championnat">Championnat</option>
                            <option value="coupe">Coupe</option>
                        </select>
                        <label>Journées</label>
                        <input type="number" name="journee" min="1" placeholder="1" required>
                    </div>
                    <button type="submit" class="btn">
                        <i class="fas fa-save"></i> Enregistrer le Match
                    </button>
                </form>
            </div>

            <!-- Add Player Section -->
            <div class="admin-section">
                <h3><i class="fas fa-user-plus"></i> Ajouter un Joueur</h3>
                <form id="addPlayerForm">
                    <div class="form-group">
                        <label>Nom Complet</label>
                        <input type="text" name="playerName" placeholder="Prénom NOM" required>
                    </div>
                    <div class="form-group">
                        <label>Équipe</label>
                        <select name="playerTeam">
                            <option value="zarsa-a">Zarsa A</option>
                            <option value="zarsa-b">Zarsa B</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Poste</label>
                        <select name="position">
                            <option value="gardien">Gardien</option>
                            <option value="defenseur">Défenseur</option>
                            <option value="milieu">Milieu</option>
                            <option value="attaquant">Attaquant</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Numéro</label>
                        <input type="number" name="number" min="1" max="99" placeholder="10" required>
                    </div>
                    <button type="submit" class="btn">
                        <i class="fas fa-user-check"></i> Ajouter le Joueur
                    </button>
                </form>
            </div>

            <!-- Add Result Section -->
            <div class="admin-section">
                <h3><i class="fas fa-trophy"></i> Enregistrer un Résultat</h3>
                <form id="addResultForm">
                    <div class="form-group">
                        <label>Équipe</label>
                        <select name="team">
                            <option value="zarsa-a">Zarsa A</option>
                            <option value="zarsa-b">Zarsa B</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Adversaire</label>
                        <input type="text" name="opponent" placeholder="Nom de l'équipe adverse" required>
                    </div>
                    <div class="form-group">
                        <label>Score Zarsa</label>
                        <input type="number" name="scoreHome" min="0" placeholder="0" required>
                    </div>
                    <div class="form-group">
                        <label>Score Adversaire</label>
                        <input type="number" name="scoreAway" min="0" placeholder="0" required>
                    </div>
                    <div class="form-group">
                        <label>Buteurs (séparés par des virgules)</label>
                        <textarea name="scorers" rows="3" placeholder="M. Dubois (2), F. Kante (1)"></textarea>
                    </div>
                    <button type="submit" class="btn">
                        <i class="fas fa-check"></i> Valider le Résultat
                    </button>
                </form>
            </div>

            <!-- Edit Match Section -->
            <div class="admin-section">
                <h3><i class="fas fa-edit"></i> Modifier un Match</h3>
                <form id="editMatchForm">
                    <div class="form-group">
                        <label>Sélectionner un match</label>
                        <select name="matchId" id="editMatchSelect" onchange="loadMatchForEdit()">
                            <option value="">Choisir un match...</option>
                            <option value="1">Zarsa A vs US Blagnac - 24/11/2024</option>
                            <option value="2">Zarsa B vs Vétérans Club - 27/10/2024</option>
                        </select>
                    </div>
                    <div id="editMatchFields" style="display: none;">
                        <div class="form-group">
                            <label>Adversaire</label>
                            <input type="text" name="editOpponent" id="editOpponent">
                        </div>
                        <div class="form-group">
                            <label>Date et Heure</label>
                            <input type="datetime-local" name="editDatetime" id="editDatetime">
                        </div>
                        <div class="form-group">
                            <label>Lieu</label>
                            <select name="editLocation" id="editLocation">
                                <option value="domicile">Domicile</option>
                                <option value="exterieur">Extérieur</option>
                            </select>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-save"></i> Enregistrer les modifications
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="deleteMatch()" style="margin-top: 0.5rem;">
                            <i class="fas fa-trash"></i> Supprimer ce match
                        </button>
                    </div>
                </form>
            </div>

            <!-- Export Data -->
            <div class="admin-section">
                <h3><i class="fas fa-download"></i> Exporter les Données</h3>
                <button class="btn btn-secondary" onclick="exportData()">
                    <i class="fas fa-file-export"></i> Télécharger JSON
                </button>
            </div>

            <!-- Logout -->
            <div class="admin-section">
                <button class="btn btn-secondary" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Se déconnecter
                </button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-lock"></i> Connexion Admin</h2>
                <button class="modal-close" onclick="closeLoginModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label>Nom d'utilisateur</label>
                        <input type="text" name="username" placeholder="admin" required>
                    </div>
                    <div class="form-group">
                        <label>Mot de passe</label>
                        <input type="password" name="password" placeholder="••••••••" required>
                    </div>
                    <button type="submit" class="btn">
                        <i class="fas fa-sign-in-alt"></i> Se connecter
                    </button>
                </form>
                <div style="text-align: center; margin-top: 1rem; color: var(--text-secondary); font-size: 0.9rem;">
                    Identifiants : admin / zarsa2024
                </div>
            </div>
        </div>
    </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script>
        // ===========================================
        // 1. VARIABLES GLOBALES ET ÉTAT
        // ===========================================
        let appData = {
            matches: [],
            players: []
        };
        let isAuthenticated = false;
        let chartInstances = {}; // Pour stocker les instances de Chart.js et les détruire au changement de thème

      // ===========================================
// 2. FONCTIONS DE NAVIGATION ET D'ACCÈS
// ===========================================

// Toggle Menu (reste inchangé)
function toggleMenu() {
    document.getElementById('navMenu').classList.toggle('active');
}

// **NOUVELLE FONCTION DE GESTION DU BOUTON ADMIN**
function handleAdminToggle() {
    if (isAuthenticated) {
        // Si authentifié, bascule l'ouverture/fermeture du panneau
        document.getElementById('adminPanel').classList.toggle('active');
    } else {
        // Si déconnecté, ouvre la modale de connexion
        openLoginModal();
    }
}

// Login/Logout

function openLoginModal() {
    document.getElementById('loginModal').classList.add('active');
}

function closeLoginModal() {
    document.getElementById('loginModal').classList.remove('active');
}

document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(e.target);
    const username = formData.get('username');
    const password = formData.get('password');

    if (username === 'admin' && password === 'zarsa2024') {
        isAuthenticated = true;
        localStorage.setItem('isAuthenticated', 'true');
        closeLoginModal();
        
        // Après la connexion, on ouvre le panneau Admin
        document.getElementById('adminPanel').classList.add('active');
        
        showNotification('Connexion réussie !', 'success');
        e.target.reset();
    } else {
        showNotification('Identifiants incorrects', 'error');
    }
});

function logout() {
    isAuthenticated = false;
    localStorage.removeItem('isAuthenticated');
    
    // Ferme définitivement le panneau Admin
    const adminPanel = document.getElementById('adminPanel');
    if (adminPanel) {
        adminPanel.classList.remove('active');
    }

    showNotification('Déconnexion réussie', 'success');
}


        // ===========================================
        // 3. GESTIONNAIRES DE FORMULAIRES ADMIN
        // ===========================================

        // Add Match Form
        document.getElementById('addMatchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            showNotification('Match ajouté avec succès !', 'success');
            e.target.reset();
        });

        // Add Player Form
        document.getElementById('addPlayerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            
            const newPlayer = {
                id: appData.players.length + 1,
                name: formData.get('playerName'),
                team: formData.get('playerTeam') === 'zarsa-a' ? 'Zarsa A' : 'Zarsa B',
                position: formData.get('position'),
                number: formData.get('number'),
                goals: 0
            };
            
            appData.players.push(newPlayer);
            showNotification('Joueur ajouté avec succès !', 'success');
            e.target.reset();
        });

        // Add Result Form
        document.getElementById('addResultForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            
            const result = {
                team: formData.get('team') === 'zarsa-a' ? 'Zarsa A' : 'Zarsa B',
                opponent: formData.get('opponent'),
                scoreHome: formData.get('scoreHome'),
                scoreAway: formData.get('scoreAway'),
                scorers: formData.get('scorers'),
                date: new Date().toISOString()
            };
            
            appData.matches.push(result);
            showNotification('Résultat enregistré avec succès !', 'success');
            e.target.reset();
        });

        // Load Match for Edit
        function loadMatchForEdit() {
            const matchId = document.getElementById('editMatchSelect').value;
            const fields = document.getElementById('editMatchFields');
            
            if (!matchId) {
                fields.style.display = 'none';
                return;
            }
            
            // Mock data pour l'édition/suppression
            if (matchId === '1') {
                document.getElementById('editOpponent').value = 'US Blagnac';
                document.getElementById('editDatetime').value = '2024-11-24T14:00';
                document.getElementById('editLocation').value = 'exterieur';
            } else if (matchId === '2') {
                document.getElementById('editOpponent').value = 'Vétérans Club';
                document.getElementById('editDatetime').value = '2024-10-27T15:00';
                document.getElementById('editLocation').value = 'domicile';
            }
            
            fields.style.display = 'block';
        }

        // Edit Match Form
        document.getElementById('editMatchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            showNotification('Match modifié avec succès !', 'success');
            document.getElementById('editMatchFields').style.display = 'none';
            document.getElementById('editMatchSelect').value = '';
        });

        // Delete Match
        function deleteMatch() {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce match ?')) {
                showNotification('Match supprimé avec succès !', 'success');
                document.getElementById('editMatchFields').style.display = 'none';
                document.getElementById('editMatchSelect').value = '';
            }
        }

        // ===========================================
        // 4. UTILITAIRES ET EXPORT
        // ===========================================

        // Export Data
        function exportData() {
            const dataStr = JSON.stringify(appData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `zarsa-data-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            URL.revokeObjectURL(url);
            showNotification('Données exportées avec succès !', 'success');
        }

        // Show Notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? '#00d9a3' : type === 'error' ? '#ff6b6b' : '#5B9BD5'};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 8px 24px rgba(0,0,0,0.3);
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
                display: flex;
                align-items: center;
                gap: 0.5rem;
            `;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ===========================================
        // 5. THÈME ET INTERFACE
        // ===========================================

        // Theme Management
        function toggleThemeDropdown() {
            document.getElementById('themeDropdown').classList.toggle('active');
        }

        function changeTheme(theme) {
            document.body.className = '';
            if (theme === 'light') {
                document.body.classList.add('light-mode');
            } else if (theme === 'forest') {
                document.body.classList.add('forest-theme');
            } else if (theme === 'sunset') {
                document.body.classList.add('sunset-theme');
            } else if (theme === 'ocean') {
                document.body.classList.add('ocean-theme');
            }
            localStorage.setItem('theme', theme);
            
            const themeDropdown = document.getElementById('themeDropdown');
            if (themeDropdown) {
                 themeDropdown.classList.remove('active');
            }
            
            // Reinit charts with new theme colors
            setTimeout(() => {
                initCharts();
            }, 100);
        }

        function loadTheme() {
            const theme = localStorage.getItem('theme') || 'dark';
            if (theme !== 'dark') {
                changeTheme(theme);
            }
        }
        
        // Switch Tabs
        function switchTab(tabId, button) {
            const section = button.closest('.team-section');
            section.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            section.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(tabId).style.display = 'block';
            button.classList.add('active');
        }

        // Scroll to Section
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // Open Top Scorers
        function openTopScorers() {
            scrollToSection('equipes');
            // Activate buteurs tab for Zarsa A (Simulation)
            const zarsaA = document.querySelector('.team-section.zarsa-a');
            if (zarsaA) {
                const buteurBtn = zarsaA.querySelectorAll('.tab-btn')[1];
                if (buteurBtn) {
                    buteurBtn.click();
                }
            }
        }

        // ===========================================
        // 6. CALENDRIER
        // ===========================================

        let currentMonth = 10;
        let currentYear = 2024;

        function generateCalendar() {
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            
            const monthNames = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin',
                              'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];
            
            document.getElementById('calendarMonth').textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            const days = ['L', 'M', 'M', 'J', 'V', 'S', 'D'];
            days.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'calendar-day';
                dayHeader.style.fontWeight = '700';
                dayHeader.style.background = 'var(--accent)';
                dayHeader.style.cursor = 'default';
                dayHeader.textContent = day;
                grid.appendChild(dayHeader);
            });
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const startDay = firstDay === 0 ? 6 : firstDay - 1;
            
            for (let i = 0; i < startDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day';
                emptyDay.style.opacity = '0.3';
                emptyDay.style.cursor = 'default';
                grid.appendChild(emptyDay);
            }
            
            // Simulation des jours de match pour octobre 2024
            let matchDays = [];
            if (currentMonth === 9 && currentYear === 2024) { // Octobre
                 matchDays = [10, 27];
            } else if (currentMonth === 10 && currentYear === 2024) { // Novembre
                 matchDays = [24];
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'calendar-day';
                if (matchDays.includes(day)) {
                    dayCell.classList.add('has-match');
                }
                
                const dayNumber = document.createElement('div');
                dayNumber.className = 'calendar-day-number';
                dayNumber.textContent = day;
                dayCell.appendChild(dayNumber);
                
                if (matchDays.includes(day)) {
                    const indicator = document.createElement('div');
                    indicator.className = 'calendar-day-indicator';
                    dayCell.appendChild(indicator);
                }
                
                grid.appendChild(dayCell);
            }
        }

        function previousMonth() {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            generateCalendar();
        }

        function nextMonth() {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            generateCalendar();
        }

        // ===========================================
        // 7. INITIALISATION DES GRAPHIQUES (Chart.js)
        // ===========================================
        
        function initCharts() {
            // Détruire les graphiques existants pour le changement de thème
            Object.values(chartInstances).forEach(chart => {
                if (chart) chart.destroy();
            });
            chartInstances = {};

            const textColor = getComputedStyle(document.body).getPropertyValue('--text').trim();
            const textSecondary = getComputedStyle(document.body).getPropertyValue('--text-secondary').trim();
            const gridColor = 'rgba(255, 255, 255, 0.05)';

            // --- Performance Chart (Ligne) ---
            const perfCtx = document.getElementById('performanceChart');
            if (perfCtx) {
                chartInstances.performance = new Chart(perfCtx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['Sept', 'Oct', 'Nov', 'Déc', 'Jan', 'Fév'],
                        datasets: [{
                            label: 'Zarsa A - Points',
                            data: [65, 70, 75, 80, 78, 85],
                            borderColor: '#5B9BD5',
                            backgroundColor: 'rgba(91, 155, 213, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 2
                        }, {
                            label: 'Zarsa B - Points',
                            data: [60, 68, 72, 75, 80, 82],
                            borderColor: '#00d9a3',
                            backgroundColor: 'rgba(0, 217, 163, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                labels: { 
                                    color: textColor,
                                    font: { size: 12, weight: '600' }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0,0,0,0.9)',
                                padding: 12,
                                titleFont: { size: 14 },
                                bodyFont: { size: 13 }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { 
                                    color: textSecondary,
                                    font: { size: 11 }
                                },
                                grid: { color: gridColor }
                            },
                            x: {
                                ticks: { 
                                    color: textSecondary,
                                    font: { size: 11 }
                                },
                                grid: { color: gridColor }
                            }
                        }
                    }
                });
            }

            // --- Comparison Chart (Barres) ---
            const compCtx = document.getElementById('comparisonChart');
            if (compCtx) {
                chartInstances.comparison = new Chart(compCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['Victoires', 'Nuls', 'Défaites', 'Buts marqués', 'Buts encaissés'],
                        datasets: [{
                            label: 'Zarsa A',
                            data: [9, 3, 3, 34, 18],
                            backgroundColor: 'rgba(91, 155, 213, 0.8)',
                            borderColor: '#5B9BD5',
                            borderWidth: 2
                        }, {
                            label: 'Zarsa B',
                            data: [4, 0, 1, 14, 6],
                            backgroundColor: 'rgba(0, 217, 163, 0.8)',
                            borderColor: '#00d9a3',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                labels: { 
                                    color: textColor,
                                    font: { size: 12, weight: '600' }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0,0,0,0.9)',
                                padding: 12
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { 
                                    color: textSecondary,
                                    font: { size: 11 }
                                },
                                grid: { color: gridColor }
                            },
                            x: {
                                ticks: { 
                                    color: textSecondary,
                                    font: { size: 11 }
                                },
                                grid: { color: gridColor }
                            }
                        }
                    }
                });
            }

            // --- Scorers Evolution Chart (Ligne) ---
            const scorersCtx = document.getElementById('scorersChart');
            if (scorersCtx) {
                chartInstances.scorers = new Chart(scorersCtx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['J1', 'J2', 'J3', 'J4', 'J5', 'J6', 'J7', 'J8'],
                        datasets: [{
                            label: 'M. Dubois (Zarsa A)',
                            data: [0, 1, 1, 2, 3, 4, 4, 5],
                            borderColor: '#5B9BD5',
                            backgroundColor: 'rgba(91, 155, 213, 0.1)',
                            tension: 0.3,
                            pointRadius: 5,
                            pointHoverRadius: 7,
                            borderWidth: 2
                        }, {
                            label: 'J. Bernard (Zarsa B)',
                            data: [1, 2, 2, 3, 4, 5, 5, 6],
                            borderColor: '#00d9a3',
                            backgroundColor: 'rgba(0, 217, 163, 0.1)',
                            tension: 0.3,
                            pointRadius: 5,
                            pointHoverRadius: 7,
                            borderWidth: 2
                        }, {
                            label: 'F. Kante (Zarsa A)',
                            data: [0, 0, 1, 1, 2, 2, 3, 3],
                            borderColor: '#ffa726',
                            backgroundColor: 'rgba(255, 167, 38, 0.1)',
                            tension: 0.3,
                            pointRadius: 5,
                            pointHoverRadius: 7,
                            borderWidth: 2
                        }, {
                            label: 'P. Rousseau (Zarsa B)',
                            data: [0, 1, 1, 2, 2, 3, 4, 4],
                            borderColor: '#ff6b6b',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            tension: 0.3,
                            pointRadius: 5,
                            pointHoverRadius: 7,
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        },
                        plugins: {
                            legend: {
                                labels: { 
                                    color: textColor,
                                    font: { size: 11, weight: '600' },
                                    usePointStyle: true,
                                    padding: 15
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0,0,0,0.9)',
                                padding: 12,
                                callbacks: {
                                    title: function(context) {
                                        return 'Journée ' + context[0].label.substring(1);
                                    },
                                    label: function(context) {
                                        return context.dataset.label + ': ' + context.parsed.y + ' buts';
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Nombre de buts',
                                    color: textSecondary,
                                    font: { size: 12, weight: '600' }
                                },
                                ticks: { 
                                    color: textSecondary,
                                    font: { size: 11 },
                                    stepSize: 1
                                },
                                grid: { color: gridColor }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Journées',
                                    color: textSecondary,
                                    font: { size: 12, weight: '600' }
                                },
                                ticks: { 
                                    color: textSecondary,
                                    font: { size: 11 }
                                },
                                grid: { color: gridColor }
                            }
                        }
                    }
                });
            }
        }

        // ===========================================
        // 8. GESTION DES CLICS HORS ZONES
        // ===========================================
        
        // Close dropdowns/modals on outside click
        document.addEventListener('click', function(e) {
            // Thèmes
            const themeDropdown = document.getElementById('themeDropdown');
            if (themeDropdown && !e.target.closest('.theme-selector')) {
                themeDropdown.classList.remove('active');
            }
            
            // Modales
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
            
            // Panneau admin
            const adminPanel = document.getElementById('adminPanel');
            const adminToggle = document.querySelector('.admin-toggle'); // Assurez-vous d'avoir un élément avec la classe 'admin-toggle'
            if (adminPanel && adminPanel.classList.contains('active') && 
                !adminPanel.contains(e.target) && 
                !adminToggle.contains(e.target) &&
                e.target.id !== 'adminToggle' // Éviter de fermer si on clique sur l'icône admin
               ) {
                adminPanel.classList.remove('active');
            }
        });

        // ===========================================
        // 9. INITIALISATION FINALE (DOMContentLoaded)
        // ===========================================

        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            generateCalendar();
            
            // Check auth state
            if (localStorage.getItem('isAuthenticated') === 'true') {
                isAuthenticated = true;
            }
            
            // Init charts after a small delay
            setTimeout(function() {
                initCharts();
            }, 200);
            
            console.log('✅ Zarsa FC Application chargée');
            console.log('📊 Graphiques initialisés');
            console.log('🔐 Identifiants admin: admin / zarsa2024');
        });
    </script>
</body>
</html>